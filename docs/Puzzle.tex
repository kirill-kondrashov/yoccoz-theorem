\section{Puzzle Definitions}
\label{sec:Puzzle}

The Yoccoz puzzle is a combinatorial structure constructed from the external rays and equipotential lines of the Green's function. It provides a sequence of nested partitions of the dynamical plane (and parameter plane) that allows us to study the local connectivity of the Julia set.

\subsection{Dynamical Puzzle Piece}

In the simplified model used for this formalization, a puzzle piece is defined by the level sets of the Green's function.

\begin{definition}[Dynamical Puzzle Piece]
For a parameter $c$ and depth $n \in \mathbb{N}$, the dynamical puzzle piece $P_n(z)$ containing a point $z$ is the connected component of the sublevel set
\[ \{ w \in \mathbb{C} \mid G_c(w) < 2^{-n} \} \]
that contains $z$.
\end{definition}

In particular, we are interested in the sequence of puzzle pieces containing the critical point $0$:
\[ P_n(0) = \text{component of } \{ w \mid G_c(w) < 2^{-n} \} \text{ containing } 0. \]

\begin{figure}[ht]
    \centering
    \includegraphics[width=1.0\textwidth]{images/puzzle_pieces.png}
    \caption{Dynamical Puzzle Pieces for the Basilica ($c=-1$). Left: Global view showing the Julia set $K(c)$ (black) and the equipotential lines wrapping around it. The red box indicates the zoomed region. Note how the equipotentials pinch off regions around $0$ and $-1$. Right: Zoomed view around the critical point $0$. The nested contours ($G_c(z) = 1, 1/2, 1/4, \dots$) define the puzzle pieces $P_n(0)$, which shrink towards $0$.}
    \label{fig:puzzle_pieces}
\end{figure}

\begin{figure}[ht]
    \centering
    \includegraphics[width=0.8\textwidth]{images/puzzle_3d.png}
    \caption{3D visualization of the Green's function potential $G_c(z)$ for the Basilica. The vertical axis represents the potential value. The white contour lines correspond to the levels $2^{-n}$, which define the boundaries of the dynamical puzzle pieces.}
    \label{fig:puzzle_3d}
\end{figure}

\subsection{Puzzle Annulus}

The geometry of the puzzle is controlled by the annuli formed between consecutive pieces.

\begin{definition}[Puzzle Annulus]
The puzzle annulus at depth $n$ is the difference between the puzzle piece at depth $n$ and the one at depth $n+1$:
\[ A_n = P_n(0) \setminus P_{n+1}(0). \]
\end{definition}

This annulus is fundamental to the application of GrÃ¶tzsch's inequality. If the sum of moduli $\sum \operatorname{mod}(A_n)$ diverges, then the pieces $P_n(0)$ shrink to a point.

\subsection{Para-Puzzle Piece}

The construction lifts to the parameter plane, defining sets of parameters with similar combinatorial behavior.

\begin{definition}[Para-Puzzle Piece]
The para-puzzle piece $\mathcal{P}_n$ of depth $n$ is the set of parameters $c$ such that the critical point $0$ lies in its own puzzle piece of depth $n$:
\[ \mathcal{P}_n = \{ c \in \mathbb{C} \mid 0 \in P_n(0) \text{ relative to } f_c \}. \]
\end{definition}

\textit{Formalization Note}: In Lean, these correspond to \texttt{DynamicalPuzzlePiece}, \texttt{PuzzleAnnulus}, and \texttt{ParaPuzzlePiece}.

